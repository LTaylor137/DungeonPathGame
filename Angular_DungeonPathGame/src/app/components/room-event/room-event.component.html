<div class="REContainer">


    <div class="caveBGCont">
        <img class="caveBGImg" src="{{ this.RoomEventService.roomBackground }}" />
    </div>

    <div class="devinfo" *ngIf="DungeonPathService.showDevInfo === true">
        {{this.RoomEventService.roomType}} <br>
        currentLevel = {{this.RoomEventService.currentLevel}} <br>
        currentRoom = {{this.RoomEventService.currentRoom}}
    </div>

    <!-- TURN INFO -->
    <div>
        <div class="turnrow">
            <div *ngIf="this.RoomEventService.isPlayerTurn === false && this.RoomEventService.monsterHealthValue > 0"
                class="turnbox">
                <p class="stattext"> Monster Turn </p>
            </div>
        </div>
    </div>

    <!-- MONSTER -->
    <div
        *ngIf="this.RoomEventService.roomType === 'monster' || this.RoomEventService.roomType === 'boss' || this.RoomEventService.roomType === 'finalboss'">


        <div *ngIf="this.RoomEventService.monsterHealthValue > 0" class="flexrow">
            <div class="flexcol">
                <div class="statusBox">
                    <!-- monster stunned? -->
                    <div *ngIf="this.RoomEventService.isMonsterStunned === true && this.RoomEventService.monsterHealthValue > 0"
                        class="status"> Stunned! </div>
                </div>
                <img id="monsterDiv" src="{{ this.RoomEventService.roomImage }}" />
            </div>
        </div>

        <!-- loot -->
        <div class="flexrow"
            *ngIf="this.RoomEventService.monsterHealthValue <= 0 && this.PlayerService.isLootTaken === false">

            <div class="lootCont">
                <div class="flexrow">
                    <div *ngFor="let loot of this.RoomEventService.roomLootList">
                        <div class="lootCard" [style.background-color]="this.PlayerService.getColour(loot.itemTier)"
                            (click)="takeLoot(loot.itemName)">
                            {{ loot.itemName }}
                        </div>
                    </div>
                </div>
                <div class="flexrow">
                    <div class="forgoLoot" (click)="this.DungeonPathService.toggleDungeonPath()">
                        take nothing and leave
                    </div>
                </div>
            </div>

        </div>

    </div>

    <!-- TREASURE -->
    <div *ngIf="this.RoomEventService.roomType === 'treasure'">

        <div class="flexrow">
            <div></div>
            <span *ngIf="this.RoomEventService.roomType === 'treasure'" class="iconify" color="gold"
                data-icon="mdi-treasure-chest" data-inline="false"></span>
            <div></div>
        </div>

        <!-- loot -->
        <div class="flexrow">

            <div class="lootCont">
                <div class="flexrow">
                    <div *ngFor="let loot of this.RoomEventService.roomLootList">
                        <div class="lootCard" [style.background-color]="this.PlayerService.getColour(loot.itemTier)"
                            (click)="takeLoot(loot.itemName)">
                            {{ loot.itemName }}
                        </div>
                    </div>
                </div>
                <div class="flexrow">
                    <div class="forgoLoot" (click)="this.DungeonPathService.toggleDungeonPath()">
                        take nothing and leave
                    </div>
                </div>
            </div>

        </div>

    </div>

    <!-- FIRE -->
    <div *ngIf="this.RoomEventService.roomType === 'fire'">
        <div class="flexrow">
            <div></div>
            <span *ngIf="this.RoomEventService.roomType === 'fire'" class="iconify" color="red"
                data-icon="majesticons:fire" data-inline="false"></span>
            <div></div>
        </div>
    </div>

    <!-- bottom stat row -->
    <div class="statrow">
        <div class="statbox">
        </div>
        <div *ngIf="this.RoomEventService.monsterHealthValue > 0" class="statbox">
            <span class="iconify" color="grey" data-icon="mdi:sword" data-inline="false"></span>
            <span class="stattext"> {{this.RoomEventService.monsterAttackValue}}</span>
        </div>
        <div *ngIf="this.RoomEventService.monsterHealthValue > 0" class="statbox">
            <span class="iconify" color="red" data-icon="ant-design:heart-filled" data-inline="false"></span>
            <div> <a href="https://www.flaticon.com/" title="Flaticon"></a></div>
            <span class="stattext"> {{this.RoomEventService.monsterHealthValue}}</span>
        </div>
        <div class="statbox">
        </div>
    </div>

    <!-- START -->
    <div *ngIf="this.RoomEventService.roomType === 'start'">
        <div>

        </div>
    </div>

    <!-- <div *ngIf="this.RoomEventService.roomType === 'treasure' || this.RoomEventService.roomType === 'fire'">
        <this div replaces the stat boxes for spacing -->
    <!-- </div> -->

</div>